<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:decorate xmlns="http://www.w3.org/1999/xhtml"
             xmlns:h="http://xmlns.jcp.org/jsf/html"
             xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
             template="template.xhtml"
             xmlns:p="http://primefaces.org/ui"
             xmlns:f="http://xmlns.jcp.org/jsf/core">



    <h:form id="listarlotes">
        
        <p:dataTable value="#{loteBean.lotes}" id="iddatat" var="Lotes" rows="5"   
                     paginator="true" paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                     rowsPerPageTemplate="5,10,15,20,25,30,35,40,45,50" >
            <f:facet name="header" >
                Lotes em Estoque
            </f:facet> 
            <p:column headerText="Estoque" sortBy="#{Lotes.prod.est.nome}" filterBy="#{Lotes.prod.est.nome}" >
                <h:outputText value="#{Lotes.prod.est.nome}"> </h:outputText>
            </p:column>
            <p:column headerText="Produto" sortBy="#{Lotes.prod.nome}" filterBy="#{Lotes.prod.nome}" >
                <h:outputText value="#{Lotes.prod.nome}"> </h:outputText>
            </p:column>
             <p:column headerText="Unidade" sortBy="#{Lotes.prod.unidade}" filterBy="#{Lotes.prod.unidade}" >
                <h:outputText value="#{Lotes.prod.unidade}"> </h:outputText>
            </p:column>
            <p:column headerText="DescriÃ§ao" sortBy="#{Lotes.prod.descricao}" filterBy="#{Lotes.prod.descricao}" >
                    <h:outputText value="#{Lotes.prod.descricao}"> </h:outputText>
            </p:column>
            <p:column headerText="Numero do Lote" sortBy="#{Lotes.numeroLote}" filterBy="#{Lotes.numeroLote}" >
                <h:outputText value="#{Lotes.numeroLote}"> </h:outputText>
            </p:column>
            <p:column headerText="Quantidade" sortBy="#{Lotes.quantidade}" filterBy="#{Lotes.quantidade}" >
                <h:outputText value="#{Lotes.quantidade}"> </h:outputText>
            </p:column>
            <p:column headerText="Data de entrada" sortBy= "#{Lotes.dataEntrada}" filterBy="#{Lotes.dataEntrada}" >
               <h:outputText value="#{Lotes.dataEntrada}" > <f:convertDateTime pattern="dd/MM/yyyy"/> </h:outputText>
            </p:column>
            <p:column headerText="Data de validade"  sortBy="#{Lotes.dataValidade}" filterBy="#{Lotes.dataValidade}">
                <h:outputText value="#{Lotes.dataValidade}" > <f:convertDateTime pattern="dd/MM/yyyy"/> </h:outputText>
            </p:column>
            
            <p:column headerText="Despachar Pedido" >
                <p:commandButton value="despachar" ajax="false" actionListener="#{loteBean.carregarLote(Lotes)}" action="despacharpedido.xhtml" > </p:commandButton>    
            </p:column>
            

            <p:column headerText="Editar Lote" >
                <p:commandButton value="Editar" icon="ui-icon-pencil" ajax="false" actionListener="#{loteBean.carregarLote(Lotes)}" action="editlote.xhtml" />
           </p:column>


        </p:dataTable>
    </h:form>



</ui:decorate>